# 快速測試指南 - Terminal AI 改進

## 🧪 測試方案 A 的新功能

### 測試 1: Ctrl+K 快速分析

**步驟**:
1. 打開終端
2. 執行任何命令，例如：
   ```bash
   npm --version
   git status
   ls -la
   ```
3. **按下 Ctrl+K**
4. 觀察中央是否出現 AI 分析提示框

**預期結果**:
- 中央彈出美觀的提示框
- 顯示 "🤖 AI 快速分析已啟動"
- 3 秒後自動消失
- 右上角出現 AI 分析結果

---

### 測試 2: 智能錯誤偵測

#### 測試 2.1: 命令未找到
```bash
abcdefghijk123  # 一個不存在的命令
```

**預期結果**:
```
❌ AI 偵測到錯誤
abcdefghijk123: command not found

💡 命令 'abcdefghijk123' 未找到。嘗試: which abcdefghijk123 或安裝相關套件
```

#### 測試 2.2: 模組未安裝
```bash
node -e "require('nonexistent-module')"
```

**預期結果**:
```
❌ AI 偵測到錯誤
Cannot find module 'nonexistent-module'

💡 缺少模組 'nonexistent-module'。執行: npm install nonexistent-module
```

#### 測試 2.3: 文件不存在
```bash
cat nonexistent-file.txt
```

**預期結果**:
```
❌ AI 偵測到錯誤
cat: nonexistent-file.txt: No such file or directory

💡 文件/目錄不存在。使用 ls 查看當前目錄內容
```

#### 測試 2.4: 端口被佔用（需要實際佔用端口）
```bash
# 先啟動一個服務在 3000 端口
# 然後再次啟動
```

**預期結果**:
```
❌ AI 偵測到錯誤
Error: listen EADDRINUSE: address already in use :::3000

💡 端口 3000 被佔用。查找佔用: lsof -i :3000 或更換端口
```

---

### 測試 3: 右鍵 AI 分析

**步驟**:
1. 執行命令：
   ```bash
   echo "test output"
   ls -la
   ```
2. **選取** 任意輸出文字
3. **右鍵點擊**
4. 選擇 "🤖 AI 分析"

**預期結果**:
- 右上角出現 AI 分析中的 loading
- 數秒後顯示分析結果
- 可以展開/縮小分析結果

---

### 測試 4: UI 視覺效果

#### 4.1 動畫測試
- Ctrl+K 提示框應該有「彈出」動畫
- AI insight 應該從右側「滑入」
- AI 圖示應該有「跳動」效果

#### 4.2 顏色測試
- **錯誤**: 紅色邊框 + 紅色背景
- **警告**: 黃色邊框 + 橙色背景
- **成功**: 綠色邊框 + 綠色背景
- **執行中**: 藍色邊框 + 藍色背景 + 旋轉圖示

---

### 測試 5: 命令執行追蹤

**步驟**:
1. 執行較長時間的命令：
   ```bash
   # Windows
   timeout 5
   
   # Mac/Linux
   sleep 5
   ```

**預期結果**:
1. 執行時顯示：
   ```
   🔄 正在執行
   正在執行: sleep 5
   已執行 1.2s...
   ```

2. 完成後顯示：
   ```
   ✅ 執行完成
   執行完成 (耗時 5.0s)
   sleep 5
   ```

---

## 🐛 已知問題檢查

### 問題 1: Ctrl+K 不工作
**可能原因**:
- Terminal 焦點不在終端上
- 某些應用程式（vim, nano）佔用了 Ctrl+K
- 快捷鍵衝突

**解決方法**:
- 確保焦點在終端窗口
- 退出 vim/nano 等編輯器
- 使用右鍵選取分析作為替代

### 問題 2: AI 分析沒有響應
**檢查**:
- GitHub Copilot 是否已登入
- 網路連接是否正常
- Console 是否有錯誤訊息（F12 開發者工具）

### 問題 3: 提示框顯示不正常
**檢查**:
- 瀏覽器是否支援 CSS backdrop-filter
- 是否有 CSS 快取問題（重新載入）

---

## 📊 性能測試

### 測試場景 1: 大量輸出
```bash
# 產生大量輸出
npm list
```

**檢查**:
- AI 分析是否正常
- 提示框是否流暢
- 記憶體使用是否正常

### 測試場景 2: 快速連續命令
```bash
echo "test1"
echo "test2"
echo "test3"
```

**檢查**:
- AI insight 是否正確更新
- 動畫是否流暢
- 是否有閃爍

---

## ✅ 驗收標準

所有以下項目都應該正常工作：

- [ ] Ctrl+K 觸發 AI 分析
- [ ] 中央提示框正常顯示和消失
- [ ] 至少 3 種錯誤類型被正確偵測
- [ ] 建議包含具體可執行的命令
- [ ] 右鍵 AI 分析功能正常
- [ ] 命令執行時間正確顯示
- [ ] 動畫流暢無閃爍
- [ ] 不同錯誤類型顯示不同顏色
- [ ] 可以手動關閉提示框
- [ ] 提示框自動消失機制正常

---

## 🎯 回歸測試

確保原有功能沒有被破壞：

- [ ] 終端基本輸入輸出正常
- [ ] 複製貼上功能正常
- [ ] Workspace 切換正常
- [ ] GitHub Copilot 面板正常
- [ ] 技能系統正常
- [ ] 終端重啟功能正常

---

## 📝 測試記錄

| 測試項目 | 狀態 | 備註 |
|---------|------|------|
| Ctrl+K 快速分析 | ⬜ |  |
| 命令未找到錯誤 | ⬜ |  |
| 模組未安裝錯誤 | ⬜ |  |
| 文件不存在錯誤 | ⬜ |  |
| 端口被佔用錯誤 | ⬜ |  |
| 右鍵 AI 分析 | ⬜ |  |
| 彈出動畫 | ⬜ |  |
| 滑入動畫 | ⬜ |  |
| 錯誤顏色 | ⬜ |  |
| 執行追蹤 | ⬜ |  |

狀態說明：✅ 通過 | ❌ 失敗 | ⚠️ 部分通過 | ⬜ 未測試

---

## 🚀 建議測試流程

1. **基本功能**（5 分鐘）
   - Ctrl+K 測試
   - 右鍵分析測試

2. **錯誤偵測**（10 分鐘）
   - 測試 3-5 種不同錯誤類型
   - 驗證建議的準確性

3. **UI 測試**（5 分鐘）
   - 檢查動畫
   - 檢查顏色
   - 檢查響應式

4. **壓力測試**（10 分鐘）
   - 大量輸出
   - 快速連續命令
   - 長時間運行

5. **回歸測試**（10 分鐘）
   - 確保原有功能正常

**總時間：約 40 分鐘**

---

## 📞 問題回報

如果測試中發現問題，請記錄：

1. **問題描述**
2. **重現步驟**
3. **預期行為**
4. **實際行為**
5. **截圖**（如果可能）
6. **Console 錯誤訊息**（F12）

---

**測試版本**: v1.25+
**測試日期**: ___________
**測試人員**: ___________
